<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Cat√°logo Completo</title>
  <link rel="stylesheet" href="styles.css" />
</head>
<body>
<header>
  <h1 class="logo">üìö SmartLib</h1>
  <nav>
    <ul>
      <li><a href="index.html">In√≠cio</a></li>
      <li><a href="catalogo.html">Cat√°logo</a></li>
      <li><a href="funcionario.html">Sou Funcion√°rio</a></li>
      <li><a href="cadastro-livros.html">Cadastrar Livros</a></li>
    </ul>
  </nav>
  <div class="search-login">
    <div class="user-info" id="user-info">
      <!-- Preenchido via JS -->
    </div>
  </div>
</header>

<main>
  <section class="destaques">
    <h2>Explore o Cat√°logo</h2>

    <div class="filtros">
      <label for="filtro-genero">G√™nero:</label>
      <select id="filtro-genero">
        <option value="todos">Todos</option>
        <option value="romance">Romance</option>
        <option value="ficcao_cientifica">Fic√ß√£o Cient√≠fica</option>
        <option value="fantasia">Fantasia</option>
        <option value="ciencia">Ci√™ncia</option>
        <option value="terror">Terror</option>
        <option value="aventura">Aventura</option>
        <option value="biografia">Biografia</option>
      </select>

      <label for="filtro-disponibilidade">Disponibilidade:</label>
      <select id="filtro-disponibilidade">
        <option value="todos">Todos</option>
        <option value="disponivel">Dispon√≠vel</option>
        <option value="indisponivel">Indispon√≠vel</option>
      </select>
    </div>

    <div class="livros-grid">
      <div class="livro" data-genero="ficcao_cientifica" data-status="disponivel">
        <img src="assets/1984 - George Orwell.png" alt="1984" />
        <p class="titulo">1984</p>
        <p class="autor">George Orwell</p>
      </div>

      <div class="livro" data-genero="fantasia" data-status="disponivel">
        <img src="assets/O Hobbit - J.R.R Tolkien.png" alt="O Hobbit" />
        <p class="titulo">O Hobbit</p>
        <p class="autor">J.R.R. Tolkien</p>
      </div>

      <div class="livro" data-genero="ciencia" data-status="disponivel">
        <img src="assets/Sapiens - Uma Breve Hist√≥ria da Humanidade - Yuval Noah Harari.png" alt="Sapiens" />
        <p class="titulo">Sapiens</p>
        <p class="autor">Yuval Noah Harari</p>
      </div>

      <div class="livro" data-genero="classico" data-status="disponivel">
        <img src="assets/Dom Casmurro - Machado de Assis.png" alt="Dom Casmurro" />
        <p class="titulo">Dom Casmurro</p>
        <p class="autor">Machado de Assis</p>
      </div>

      <div class="livro" data-genero="terror" data-status="disponivel">
        <img src="assets/Dr√°cula - Bram Stoker.png" alt="Dr√°cula" />
        <p class="titulo">Dr√°cula</p>
        <p class="autor">Bram Stoker</p>
      </div>

      <div class="livro" data-genero="ficcao_cientifica" data-status="disponivel">
        <img src="assets/Fahrenheit 451 - Ray Bradbury.png" alt="Fahrenheit 451" />
        <p class="titulo">Fahrenheit 451</p>
        <p class="autor">Ray Bradbury</p>
      </div>

      <div class="livro" data-genero="terror" data-status="disponivel">
        <img src="assets/It -A Coisa (It) - Stephen King.png" alt="It - A Coisa" />
        <p class="titulo">It - A Coisa</p>
        <p class="autor">Stephen King</p>
      </div>

      <div class="livro" data-genero="aventura" data-status="disponivel">
        <img src="assets/Jurassic Park - Michael Crichton.png" alt="Jurassic Park" />
        <p class="titulo">Jurassic Park</p>
        <p class="autor">Michael Crichton</p>
      </div>

      <div class="livro" data-genero="terror" data-status="disponivel">
        <img src="assets/O Chamado de Cthulhu (The Call of Cthulhu) - H.P. Lovecraft.png" alt="Cthulhu" />
        <p class="titulo">O Chamado de Cthulhu</p>
        <p class="autor">H.P. Lovecraft</p>
      </div>

      <div class="livro" data-genero="romance" data-status="disponivel">
        <img src="assets/PS Eu te amo - Cecelia Ahern.png" alt="PS Eu Te Amo" />
        <p class="titulo">PS: Eu Te Amo</p>
        <p class="autor">Cecelia Ahern</p>
      </div>

      <div class="livro" data-genero="romance" data-status="disponivel">
        <img src="assets/Verity - Colleen Hoover.png" alt="Verity" />
        <p class="titulo">Verity</p>
        <p class="autor">Colleen Hoover</p>
      </div>

      <div class="livro" data-genero="aventura" data-status="disponivel">
        <img src="assets/Viagem ao Centro da Terra - Jules Verne.png" alt="Viagem ao Centro da Terra" />
        <p class="titulo">Viagem ao Centro da Terra</p>
        <p class="autor">Jules Verne</p>
      </div>
    </div>
  </section>
</main>

<footer>
  <div class="links-rapidos">
    <a href="#">Cat√°logo</a> |
    <a href="#">Contato</a>
  </div>
  <div class="contato">
    <p>üìç Rua do Conhecimento, 123 - Cidade Saber</p>
    <p>üìû (00) 1234-5678 | üìß contato@biblioteca.com</p>
  </div>
</footer>

<script src="script.js"></script>

<script>
  document.addEventListener("DOMContentLoaded", () => {
    const usuario = JSON.parse(localStorage.getItem("smartlib_usuario"));
    const userInfo = document.getElementById("user-info");

    if (usuario && userInfo) {
      const fotoSalva = localStorage.getItem("smartlib_fotoPerfil");

      userInfo.innerHTML = `
        <img src="${fotoSalva || "https://i.pravatar.cc/150?u=" + usuario.usuario}" alt="Foto do usu√°rio" id="foto-perfil" />
        <span>${usuario.tipo.charAt(0).toUpperCase() + usuario.tipo.slice(1)}</span>
        <div class="menu-dropdown" id="menu-dropdown">
          <button onclick="logout()">üö™ Sair</button>
          <label style="font-size: 0.9em; color: gray;">üì∑ Mudar Foto
            <input type="file" id="input-foto-perfil" accept="image/*" style="display: none;">
          </label>
        </div>
      `;

      // Toggle do menu
      userInfo.addEventListener("click", () => {
        const menu = document.getElementById("menu-dropdown");
        menu.style.display = menu.style.display === "flex" ? "none" : "flex";
      });

      // Upload de nova imagem
      document.getElementById("input-foto-perfil").addEventListener("change", e => {
        const file = e.target.files[0];
        if (!file) return;
        const reader = new FileReader();
        reader.onload = function (event) {
          const url = event.target.result;
          localStorage.setItem("smartlib_fotoPerfil", url);
          document.getElementById("foto-perfil").src = url;
        };
        reader.readAsDataURL(file);
      });
    }
  });

  function logout() {
    localStorage.removeItem("smartlib_usuario");
    window.location.href = "login.html";
  }
</script>
</body>
</html>
